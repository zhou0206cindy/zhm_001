name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ğŸš€
# è§¦å‘ workflow çš„äº‹ä»¶
on: [push]
  # åˆ†æ”¯éšæ„
  branches:
    - master
# ä¸€ä¸ªworkflowç”±æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹job
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - run: echo "ğŸ‰ The job was automatically triggered by a ${{ github.event_name }} event."
      - run: echo "ğŸ§ This job is now running on a ${{ runner.os }} server hosted by GitHub!"
      - run: echo "ğŸ” The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
      - name: Check out repository code
        uses: actions/checkout@v3
      - run: echo "ğŸ’¡ The ${{ github.repository }} repository has been cloned to the runner."
      - run: echo "ğŸ–¥ï¸ The workflow is now ready to test your code on the runner."
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "ğŸ This job's status is ${{ job.status }}."
  build:
    #è¿è¡Œåœ¨æœ€æ–°ç‰ˆubuntuç³»ç»Ÿä¸­
    run-on: ubuntu-latest
    #æ­¥éª¤åˆé›†
    steps:
      #æ–°å»ºä¸€ä¸ªåä¸ºcheckout_actionsçš„æ­¥éª¤
      - name: checkout_actions
        #ä½¿ç”¨checkout@v2è¿™ä¸ªactionè·å–æºç 
        uses: actions/checkout@v2
        #ä½¿ç”¨å»ºä¸€ä¸ªåä¸ºsetup-nodeçš„æ­¥éª¤
      - name: setup-node
          #ä½¿ç”¨setup-node@v1è¿™ä¸ªaction
          uses: actions/setup-node@v1
          #æŒ‡å®šæŸä¸ªactionå¯èƒ½éœ€è¦è¾“å…¥çš„å‚æ•°
          with:
            node-version: '14'
      - name:npm install and build 
        #æ‰§è¡ŒæŸä¸ªshellå‘½ä»¤æˆ–è„šæœ¬
        run: |
          npm install
          npm run build
      - name: commit push
        #æ‰§è¡ŒæŸä¸ªshellå‘½ä»¤æˆ–è„šæœ¬
        run: |
          git config --global user.email zhou0206cindy@163.com
          git config --global user.name zhou0206cindy
          git add .
          git commit -m "update" -a
          git push
      # ç¯å¢ƒå˜é‡
     env:
       email: zhou0206cindy@163.com
